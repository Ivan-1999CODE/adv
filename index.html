<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±æ–‡å‰¯è©å¯¦é©—å®¤ | The Adverb Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f0f9ff;
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .adverb-tag {
            transition: all 0.3s ease;
        }
        .hidden-adverb {
            opacity: 0.1;
            text-decoration: line-through;
            transform: scale(0.9);
        }
        
        /* Animation classes for the running man */
        @keyframes run {
            0% { transform: translateX(0); }
            50% { transform: translateX(10px); }
            100% { transform: translateX(0); }
        }
        @keyframes run-fast {
            0% { transform: translateX(0); }
            25% { transform: translateX(20px) skewX(-10deg); }
            50% { transform: translateX(0); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        @keyframes tired {
            0% { opacity: 1; transform: translateY(0); }
            50% { opacity: 0.7; transform: translateY(2px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        .animate-run {
            animation: run 1s infinite;
        }
        .animate-run-fast {
            animation: run-fast 0.3s infinite;
        }
        .animate-tired {
            animation: tired 2s infinite ease-in-out;
        }
        .spotlight {
            background: radial-gradient(circle at center, transparent 30%, rgba(0,0,0,0.4) 100%);
        }
    </style>
</head>
<body class="text-gray-700">

    <!-- Header -->
    <header class="bg-blue-600 text-white p-6 shadow-lg">
        <div class="max-w-4xl mx-auto text-center">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">ğŸ§ª è‹±æ–‡å‰¯è©å¯¦é©—å®¤</h1>
            <p class="text-blue-100 text-lg">ç‚ºä»€éº¼å‰¯è©æ˜¯è‹±æ–‡å¥å­è£¡çš„ã€Œèª¿çš®é¬¼ã€ï¼Ÿå‹•æ‰‹ç©ç©çœ‹å°±çŸ¥é“ï¼</p>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4 md:p-8 space-y-12">

        <!-- Concept 1: The Decorator -->
        <section id="decorator-section" class="bg-white rounded-2xl p-6 md:p-8 shadow-md border-l-8 border-yellow-400">
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2">
                    <span class="text-3xl">ğŸ¨</span> æ¦‚å¿µä¸€ï¼šå‰¯è©æ˜¯å¥å­çš„ã€Œè£é£¾å“ã€
                </h2>
                <p class="mt-2 text-gray-600">
                    è¨˜å¾—æˆ‘èªªéå—ï¼Ÿå‰¯è©å°±åƒå¹«æˆ¿å­åŠ ä¸Šè£æ½¢ã€‚ä¸‹é¢æœ‰ä¸€å€‹ç„¡èŠçš„å¥å­ï¼šã€Œ<span class="font-bold text-black">He runs (ä»–è·‘æ­¥)</span>ã€ã€‚<br>
                    è©¦è‘—é»æ“ŠæŒ‰éˆ•ï¼Œå¹«å®ƒåŠ ä¸Šå„ç¨®ã€Œè£é£¾å“ã€å§ï¼
                </p>
            </div>

            <!-- Interactive Stage -->
            <div class="bg-gray-100 rounded-xl p-6 mb-6 relative overflow-hidden transition-all duration-500" id="scene-bg">
                <!-- Spotlight Layer for Focus Adverb -->
                <div id="spotlight-layer" class="absolute inset-0 z-10 pointer-events-none opacity-0 transition-opacity duration-500 spotlight"></div>

                <!-- Visual Feedback Area -->
                <div class="h-40 flex items-center justify-center mb-4 relative z-0">
                    <!-- Main Character -->
                    <div id="character" class="text-6xl transition-all duration-500 animate-run z-20">ğŸƒ</div>
                    
                    <!-- Secondary Character (for Conjunctive) -->
                    <div id="second-character" class="text-6xl absolute right-10 opacity-0 transition-all duration-500 transform translate-x-10 z-20">ğŸ¥µ</div>
                    
                    <!-- Bridge/Divider (for Conjunctive) -->
                    <div id="bridge" class="absolute h-full w-1 bg-gray-300 opacity-0 transition-all duration-500 z-10"></div>

                    <!-- Environment -->
                    <div id="environment" class="absolute inset-0 z-0 opacity-20 pointer-events-none transition-all duration-500 flex justify-between items-center text-6xl px-4"></div>
                </div>

                <!-- Sentence Display -->
                <div class="text-center bg-white p-4 rounded-lg shadow-sm border border-gray-200 relative z-20">
                    <div id="sentence-display" class="text-lg md:text-2xl font-bold transition-all duration-300 leading-relaxed">
                        He runs.
                    </div>
                    <div id="translation-display" class="text-gray-500 mt-2 text-sm md:text-base">
                        ä»–è·‘æ­¥ã€‚
                    </div>
                </div>
            </div>

            <!-- Controls (Expanded Grid) -->
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-2 text-sm">
                <!-- 1. Frequency -->
                <button onclick="toggleAdverb('frequency')" id="btn-frequency" class="p-2 rounded-lg border-2 border-orange-200 hover:bg-orange-50 transition-colors text-orange-700 font-bold">
                    1.å¤šå¸¸?<br><span class="font-normal text-xs">é »ç‡</span>
                </button>
                <!-- 2. Focus -->
                <button onclick="toggleAdverb('focus')" id="btn-focus" class="p-2 rounded-lg border-2 border-teal-200 hover:bg-teal-50 transition-colors text-teal-700 font-bold">
                    2.é™åˆ¶<br><span class="font-normal text-xs">å…¶ä»–/ç¯„åœ</span>
                </button>
                <!-- 3. Degree -->
                <button onclick="toggleAdverb('degree')" id="btn-degree" class="p-2 rounded-lg border-2 border-purple-200 hover:bg-purple-50 transition-colors text-purple-700 font-bold">
                    3.èªæ°£<br><span class="font-normal text-xs">ç¨‹åº¦</span>
                </button>
                <!-- 4. Manner -->
                <button onclick="toggleAdverb('manner')" id="btn-manner" class="p-2 rounded-lg border-2 border-red-200 hover:bg-red-50 transition-colors text-red-700 font-bold">
                    4.æ€æ¨£?<br><span class="font-normal text-xs">æƒ…ç‹€</span>
                </button>
                <!-- 5. Place -->
                <button onclick="toggleAdverb('place')" id="btn-place" class="p-2 rounded-lg border-2 border-green-200 hover:bg-green-50 transition-colors text-green-700 font-bold">
                    5.å“ªè£¡?<br><span class="font-normal text-xs">åœ°æ–¹</span>
                </button>
                <!-- 6. Time -->
                <button onclick="toggleAdverb('time')" id="btn-time" class="p-2 rounded-lg border-2 border-blue-200 hover:bg-blue-50 transition-colors text-blue-700 font-bold">
                    6.ä½•æ™‚?<br><span class="font-normal text-xs">æ™‚é–“</span>
                </button>
                <!-- 7. Conjunctive -->
                <button onclick="toggleAdverb('conjunctive')" id="btn-conjunctive" class="p-2 rounded-lg border-2 border-indigo-200 hover:bg-indigo-50 transition-colors text-indigo-700 font-bold col-span-2 md:col-span-4 lg:col-span-1">
                    7.é€£æ¥<br><span class="font-normal text-xs">é€£æ¥è©</span>
                </button>
            </div>
            
            <div class="mt-4 text-center text-xs md:text-sm text-gray-400 bg-yellow-50 p-2 rounded">
                ğŸ’¡ å°ç§˜è¨£ï¼šè©¦è©¦çœ‹åŒæ™‚é»é¸ <b>ã€Œé€£æ¥ã€</b>ï¼Œå¥å­æœƒè®Šé•·å–”ï¼è§€å¯Ÿ <b>However</b> å‰å¾Œçš„æ¨™é»ç¬¦è™Ÿã€‚
            </div>
        </section>

        <!-- Concept 2: The Delete Test -->
        <section class="bg-white rounded-2xl p-6 md:p-8 shadow-md border-l-8 border-red-400">
            <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2 mb-6">
                <span class="text-3xl">ğŸ§ </span> æ¦‚å¿µäºŒï¼šå‰¯è©çš„çœŸé¢ç›®èˆ‡ç ´è§£æ³•
            </h2>

            <!-- New Explanation Block -->
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <!-- Point 1: Storage Box -->
                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <div class="text-3xl mb-2">ğŸ“¦</div>
                    <h3 class="font-bold text-gray-800 mb-2">1. ç‚ºä»€éº¼é€™éº¼è¤‡é›œï¼Ÿ</h3>
                    <div class="text-sm text-gray-700 leading-relaxed">
                        <p class="mb-2 font-bold text-gray-900">ç°¡å–®è§£é‡‹ï¼šå› ç‚ºå®ƒæ˜¯ã€Œæ”¶ç´ç®±ã€ã€‚</p>
                        <ul class="list-disc pl-4 space-y-1">
                            <li>åè©æ˜¯<b>ã€Œä¸»è§’ã€</b>(äººã€äº‹ã€ç‰©)ã€‚</li>
                            <li>å‹•è©æ˜¯<b>ã€Œå‹•ä½œã€</b>ã€‚</li>
                            <li>å½¢å®¹è©æ˜¯<b>ã€Œä¸»è§’çš„è¡£æœã€</b>ã€‚</li>
                            <li>å‰¯è©å‘¢ï¼Ÿå®ƒæ˜¯<b>ã€Œå‰©ä¸‹çš„æ‰€æœ‰ç´°ç¯€ã€</b>ï¼</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Point 2: Decoration -->
                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <div class="text-3xl mb-2">ğŸº</div>
                    <h3 class="font-bold text-gray-800 mb-2">2. ç‚ºä»€éº¼ä½ç½®äº‚è·‘ï¼Ÿ</h3>
                    <div class="text-sm text-gray-600 leading-relaxed">
                        <p class="mb-2 font-bold text-gray-700">æƒ³åƒä½ åœ¨ä½ˆç½®æˆ¿é–“ï¼š</p>
                        <ul class="space-y-1 mb-2">
                            <li>ğŸ›ï¸ <b>åºŠ (åè©)</b>ï¼šä½ç½®é€šå¸¸å¾ˆå›ºå®š (é ç‰†)ã€‚</li>
                            <li>ğŸªŸ <b>çª—æˆ¶ (åè©)</b>ï¼šä½ç½®å›ºå®šã€‚</li>
                            <li>ğŸº <b>èŠ±ç“¶ (å‰¯è©)</b>ï¼šä½ å¯ä»¥æ”¾æ¡Œä¸Šã€æ”¾çª—é‚Šã€æ”¾åœ°ä¸Šï¼Œéš¨ä½ é«˜èˆˆï¼Œçœ‹ä½ æƒ³å¼·èª¿å“ªè£¡ã€‚</li>
                        </ul>
                    </div>
                </div>

                <!-- Point 3: 3D Glasses -->
                <div class="bg-gray-50 p-4 rounded-xl border border-gray-200">
                    <div class="text-3xl mb-2">ğŸ‘“</div>
                    <h3 class="font-bold text-gray-800 mb-2">3. æ€éº¼åˆ¤æ–·ï¼Ÿ(3D çœ¼é¡)</h3>
                    <div class="text-sm text-gray-600 leading-relaxed">
                        <p class="mb-2 text-xs">å¦‚æœæ²’æœ‰å‰¯è©ï¼Œä¸–ç•Œæ˜¯å¹³æ·¡çš„ï¼š<br><span class="font-mono bg-white px-1 border rounded">æˆ‘åƒé£¯ (I eat.)</span> â¡ å¾ˆç„¡èŠğŸ¥±</p>
                        <div class="border-t border-gray-300 pt-2 text-xs font-bold text-indigo-700">
                            çµè«–ï¼šå›ç­”ã€Œä½•æ™‚ï¼Ÿä½•åœ°ï¼Ÿå¦‚ä½•ï¼Ÿå¤šåƒï¼Ÿã€çš„å­—ï¼Œå°±æ˜¯å‰¯è©ã€‚
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delete Test Interactive -->
            <div class="border-t border-gray-200 pt-6">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <h3 class="font-bold text-lg text-red-600">ğŸ—‘ï¸ ä¸€å¥è©±ç ´è§£æ³• (Delete Test)</h3>
                        <p class="text-sm text-gray-500">æ—¢ç„¶å®ƒæ˜¯ã€Œè£é£¾å“ã€ï¼Œé‚£æŠŠå®ƒæ‹¿æ‰æ‡‰è©²æ²’é—œä¿‚å§ï¼Ÿ</p>
                    </div>
                    
                    <label class="flex items-center cursor-pointer select-none">
                        <span class="mr-2 text-sm font-bold text-gray-500">æ‹¿æ‰ 3D çœ¼é¡</span>
                        <div class="relative">
                            <input type="checkbox" id="delete-toggle" class="sr-only" onchange="toggleDeleteTest()">
                            <div class="w-12 h-7 bg-gray-300 rounded-full shadow-inner transition-colors" id="toggle-bg"></div>
                            <div class="dot absolute w-5 h-5 bg-white rounded-full shadow left-1 top-1 transition transition-transform" id="toggle-dot"></div>
                        </div>
                    </label>
                </div>

                <div class="bg-slate-800 text-white p-6 rounded-xl relative">
                    <div class="text-2xl leading-relaxed font-mono" id="test-sentence">
                        <span class="text-white">I</span> 
                        <span class="text-orange-300 transition-all duration-500 adverb-target" data-type="freq">usually</span> 
                        <span class="text-white">eat</span> 
                        <span class="text-white">dinner</span> 
                        <span class="text-red-300 transition-all duration-500 adverb-target" data-type="manner">happily</span> 
                        <span class="text-green-300 transition-all duration-500 adverb-target" data-type="place">at home</span> 
                        <span class="text-blue-300 transition-all duration-500 adverb-target" data-type="time">every day</span>.
                    </div>
                    
                    <div class="mt-6 text-sm text-slate-400 border-t border-slate-600 pt-3" id="test-explanation">
                        ğŸ‘† <b>è©¦è©¦çœ‹æ‰“é–‹é–‹é—œï¼š</b><br>
                        ä½ æœƒç™¼ç¾åªå‰©ä¸‹ "I eat dinner." (æˆ‘åƒæ™šé¤)ã€‚å¥å­é‚„æ˜¯å°çš„ï¼<br>
                        é€™è­‰æ˜å‰©ä¸‹çš„ <span class="text-orange-300">é »ç‡</span>ã€<span class="text-red-300">æƒ…ç·’</span>ã€<span class="text-green-300">åœ°é»</span>ã€<span class="text-blue-300">æ™‚é–“</span> å…¨éƒ¨éƒ½æ˜¯ã€Œ3D ç‰¹æ•ˆï¼ˆå‰¯è©ï¼‰ã€ã€‚
                    </div>
                </div>
            </div>
        </section>

        <!-- Concept 3: The Storage Box (Categorization) -->
        <section class="bg-white rounded-2xl p-6 md:p-8 shadow-md border-l-8 border-blue-400">
            <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2 mb-6">
                <span class="text-3xl">ğŸ“¦</span> æ¦‚å¿µä¸‰ï¼šå‰¯è©æ”¶ç´ç®±å¤§è§£å¯†
            </h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="bg-orange-50 p-4 rounded-xl border border-orange-100 card-hover">
                    <div class="font-bold text-orange-600 mb-2">ğŸ“Š é »ç‡å‰¯è© (Frequency)</div>
                    <div class="text-sm text-gray-600 mb-2">å›ç­”ï¼šå¤šå¸¸åšï¼Ÿ(How often)</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700">always (ç¸½æ˜¯)<br>seldom (å¾ˆå°‘)</div>
                </div>
                <div class="bg-purple-50 p-4 rounded-xl border border-purple-100 card-hover">
                    <div class="font-bold text-purple-600 mb-2">ğŸŒ¡ï¸ ç¨‹åº¦å‰¯è© (Degree)</div>
                    <div class="text-sm text-gray-600 mb-2">å›ç­”ï¼šä»€éº¼ç¨‹åº¦ï¼Ÿ(Level)</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700">very (éå¸¸)<br>too (å¤ª...)</div>
                </div>
                <div class="bg-red-50 p-4 rounded-xl border border-red-100 card-hover">
                    <div class="font-bold text-red-600 mb-2">ğŸ¤” æƒ…æ…‹å‰¯è© (Manner)</div>
                    <div class="text-sm text-gray-600 mb-2">å›ç­”ï¼šå¦‚ä½•åšï¼Ÿ(How)</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700">slowly (æ…¢æ…¢åœ°)<br>well (å¾ˆå¥½åœ°)</div>
                </div>
                <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 card-hover">
                    <div class="font-bold text-blue-600 mb-2">â° æ™‚é–“å‰¯è© (Time)</div>
                    <div class="text-sm text-gray-600 mb-2">å›ç­”ï¼šä½•æ™‚åšï¼Ÿ(When)</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700">now (ç¾åœ¨)<br>yesterday (æ˜¨å¤©)</div>
                </div>
                <div class="bg-green-50 p-4 rounded-xl border border-green-100 card-hover">
                    <div class="font-bold text-green-600 mb-2">ğŸ“ åœ°æ–¹å‰¯è© (Place)</div>
                    <div class="text-sm text-gray-600 mb-2">å›ç­”ï¼šåœ¨å“ªåšï¼Ÿ(Where)</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700">here (é€™è£¡)<br>everywhere (åˆ°è™•)</div>
                </div>
                 <div class="bg-teal-50 p-4 rounded-xl border border-teal-100 card-hover">
                    <div class="font-bold text-teal-600 mb-2">ğŸ¯ å…¶ä»–/é™åˆ¶å‰¯è© (Focus)</div>
                    <div class="text-sm text-gray-600 mb-2">è¡¨ç¤ºï¼šé™åˆ¶æˆ–ç¯„åœ</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700">only (åªæœ‰)<br>just (åªæ˜¯)</div>
                </div>
                <!-- 7. Conjunctive (Indigo) -->
                <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-100 card-hover md:col-span-2 lg:col-span-3">
                    <div class="font-bold text-indigo-600 mb-2">ğŸŒ‰ é€£æ¥å‰¯è© (Conjunctive)</div>
                    <div class="text-sm text-gray-600 mb-2">åŠŸèƒ½ï¼šé€£æ¥å‰å¾Œæ–‡ (Link ideas)</div>
                    <div class="bg-white p-2 rounded text-sm font-mono text-gray-700 flex gap-4">
                        <span>however (ç„¶è€Œ)</span>
                        <span>therefore (å› æ­¤)</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Supplementary: Examples (Updated with ALL categories) -->
        <section class="bg-white rounded-2xl p-6 md:p-8 shadow-md border-l-8 border-indigo-400">
            <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-2 mb-6">
                <span class="text-3xl">ğŸ“–</span> å¯¦æˆ°ä¾‹å¥èˆ‡è£œå……å¤§å…¨
            </h2>
            
            <div class="grid gap-8">
                
                <!-- 1. Frequency (Orange) - EXPANDED with Scale -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-orange-200 pb-2">
                        <span class="text-2xl">ğŸ“Š</span>
                        <h3 class="text-xl font-bold text-orange-700">1. é »ç‡å‰¯è© (Frequency) - å®Œæ•´å…‰è­œ</h3>
                        <span class="text-xs text-orange-600 bg-orange-200 px-2 py-1 rounded font-bold shadow-sm">å£è¨£ï¼šBe å¾Œ å‹• å‰</span>
                    </div>
                    
                    <!-- Frequency Scale Visualization -->
                    <div class="mb-4 bg-orange-50 p-4 rounded-xl border border-orange-100">
                        <p class="text-sm text-orange-800 font-bold mb-2">é »ç‡èƒ½é‡æ¢ (ç”±é«˜åˆ°ä½)ï¼š</p>
                        <div class="space-y-2 text-xs md:text-sm font-mono">
                            <div class="flex items-center gap-2">
                                <span class="w-20 text-right font-bold text-gray-600">Always</span>
                                <div class="flex-1 bg-gray-200 rounded-full h-2.5"><div class="bg-orange-600 h-2.5 rounded-full" style="width: 100%"></div></div>
                                <span class="w-12 text-gray-500">100%</span>
                                <span class="text-gray-400 hidden md:inline">(ç¸½æ˜¯)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-20 text-right font-bold text-gray-600">Usually</span>
                                <div class="flex-1 bg-gray-200 rounded-full h-2.5"><div class="bg-orange-500 h-2.5 rounded-full" style="width: 80%"></div></div>
                                <span class="w-12 text-gray-500">80%</span>
                                <span class="text-gray-400 hidden md:inline">(é€šå¸¸)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-20 text-right font-bold text-gray-600">Often</span>
                                <div class="flex-1 bg-gray-200 rounded-full h-2.5"><div class="bg-orange-400 h-2.5 rounded-full" style="width: 60%"></div></div>
                                <span class="w-12 text-gray-500">60%</span>
                                <span class="text-gray-400 hidden md:inline">(æ™‚å¸¸)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-20 text-right font-bold text-gray-600">Sometimes</span>
                                <div class="flex-1 bg-gray-200 rounded-full h-2.5"><div class="bg-orange-300 h-2.5 rounded-full" style="width: 40%"></div></div>
                                <span class="w-12 text-gray-500">40%</span>
                                <span class="text-gray-400 hidden md:inline">(æœ‰æ™‚)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-20 text-right font-bold text-gray-600">Seldom</span>
                                <div class="flex-1 bg-gray-200 rounded-full h-2.5"><div class="bg-orange-200 h-2.5 rounded-full" style="width: 15%"></div></div>
                                <span class="w-12 text-gray-500">15%</span>
                                <span class="text-gray-400 hidden md:inline">(å¾ˆå°‘)</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="w-20 text-right font-bold text-gray-600">Never</span>
                                <div class="flex-1 bg-gray-200 rounded-full h-2.5"><div class="bg-gray-400 h-2.5 rounded-full" style="width: 0%"></div></div>
                                <span class="w-12 text-gray-500">0%</span>
                                <span class="text-gray-400 hidden md:inline">(å¾ä¸)</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gray-50 rounded-xl p-4 border border-gray-200 space-y-4">
                        <!-- Example 1: Action Verb -->
                         <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
                            <div class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap">
                                ä¸€èˆ¬å‹•è© (æ”¾å‰é¢)
                            </div>
                            <div class="flex-1 bg-white p-3 rounded-lg shadow-sm border border-orange-100 w-full">
                                <div class="text-lg font-mono mb-1 text-gray-800">I <span class="text-orange-600 font-bold border-b-2 border-orange-600">seldom</span> <span class="text-gray-900 font-bold">get up</span> at 7.</div>
                                <div class="text-sm text-gray-600">æˆ‘ã€Œå¾ˆå°‘ã€åœ¨ä¸ƒé»èµ·åºŠã€‚(æ“‹åœ¨å‹•ä½œå‰é¢)</div>
                            </div>
                        </div>
                        
                        <!-- Example 2: Be Verb -->
                        <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
                            <div class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap">
                                Be å‹•è© (æ”¾å¾Œé¢)
                            </div>
                            <div class="flex-1 bg-white p-3 rounded-lg shadow-sm border border-blue-100 w-full">
                                <div class="text-lg font-mono mb-1 text-gray-800">He <span class="text-gray-900 font-bold">is</span> <span class="text-orange-600 font-bold border-b-2 border-orange-600">always</span> happy.</div>
                                <div class="text-sm text-gray-600">ä»–ã€Œç¸½æ˜¯ã€å¾ˆå¿«æ¨‚ã€‚(è·Ÿåœ¨ Be å‹•è©å¾Œé¢)</div>
                            </div>
                        </div>

                         <!-- Example 3: Sometimes (Back) -->
                         <div class="flex flex-col md:flex-row gap-4 items-start md:items-center mt-4 pt-4 border-t border-orange-100 border-dashed">
                            <div class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold whitespace-nowrap">
                                â­ ç‰¹æ®Šç”¨æ³• (æ”¾å¥å°¾)
                            </div>
                            <div class="flex-1 bg-white p-3 rounded-lg shadow-sm border border-yellow-100 w-full">
                                <div class="text-lg font-mono mb-1 text-gray-800">I get up at 7 <span class="text-orange-600 font-bold border-b-2 border-orange-600">sometimes</span>.</div>
                                <div class="text-sm text-gray-600">æˆ‘ã€Œæœ‰æ™‚å€™ã€ä¸ƒé»èµ·åºŠã€‚(Sometimes å¾ˆéš¨å’Œï¼Œæ”¾å¥å°¾ä¹Ÿå¯ä»¥ï¼)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. Manner (Red) - EXPANDED with Rules -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-red-200 pb-2">
                        <span class="text-2xl">ğŸ¤”</span>
                        <h3 class="text-xl font-bold text-red-700">2. æƒ…æ…‹å‰¯è© (Manner) - è®Šèº«è¦å‰‡</h3>
                        <span class="text-xs text-red-500 bg-red-100 px-2 py-1 rounded">æè¿°å‹•ä½œç‹€æ…‹</span>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-4 mb-3">
                         <!-- Rule: +ly -->
                        <div class="bg-red-50 p-3 rounded-lg border border-red-100">
                            <div class="font-bold text-red-800 text-sm mb-1">ğŸ“ è¦å‰‡ 1ï¼šå½¢å®¹è© + ly</div>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>Quick (å¿«çš„) â¡ <span class="font-bold text-red-600">Quickly</span> (å¿«åœ°)</li>
                                <li>Happy (é–‹å¿ƒçš„) â¡ <span class="font-bold text-red-600">Happily</span> (é–‹å¿ƒåœ°) <span class="text-xs text-gray-400">*å»yåŠ ily</span></li>
                            </ul>
                        </div>
                        <!-- Rule: Irregular -->
                        <div class="bg-red-50 p-3 rounded-lg border border-red-100">
                            <div class="font-bold text-red-800 text-sm mb-1">ğŸ˜ˆ è¦å‰‡ 2ï¼šå›é€†ä»½å­ (ä¸è¦å‰‡)</div>
                            <ul class="text-sm text-gray-600 space-y-1">
                                <li>Good (å¥½çš„) â¡ <span class="font-bold text-red-600">Well</span> (å¥½åœ°)</li>
                                <li>Fast (å¿«çš„) â¡ <span class="font-bold text-red-600">Fast</span> (å¿«åœ°) <span class="text-xs text-gray-400">*é•·å¾—ä¸€æ¨£!</span></li>
                                <li>Hard (å›°é›£/ç¡¬) â¡ <span class="font-bold text-red-600">Hard</span> (åŠªåŠ›åœ°) <span class="text-xs text-gray-400">*Hardlyæ˜¯ã€Œå¹¾ä¹ä¸ã€!</span></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 3. Time (Blue) - EXPANDED with Vocabulary List -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-blue-200 pb-2">
                        <span class="text-2xl">â°</span>
                        <h3 class="text-xl font-bold text-blue-700">3. æ™‚é–“å‰¯è© (Time)</h3>
                        <span class="text-xs text-blue-500 bg-blue-100 px-2 py-1 rounded">é€šå¸¸æ”¾å¥å°¾</span>
                    </div>
                    
                    <!-- New Vocabulary List for Time -->
                    <div class="mb-4 bg-blue-50 p-4 rounded-xl border border-blue-100">
                        <p class="text-sm text-blue-800 font-bold mb-2">ğŸ“š å¸¸è¦‹å–®å­—è¡¨ï¼š</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm font-mono text-gray-700">
                            <span class="bg-white px-2 py-1 rounded shadow-sm">now (ç¾åœ¨)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">then (é‚£æ™‚)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">today (ä»Šå¤©)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">yesterday (æ˜¨å¤©)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">tomorrow (æ˜å¤©)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">later (ç¨å¾Œ)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">early (ææ—©)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">soon (å¾ˆå¿«)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">recently (æœ€è¿‘)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">before (ä»¥å‰)</span>
                        </div>
                    </div>

                    <div class="space-y-3">
                         <div class="bg-white border-l-4 border-blue-400 p-3 shadow-sm hover:bg-blue-50 transition-colors">
                            <p class="font-mono text-lg text-gray-800">I saw him <span class="text-blue-600 font-bold">yesterday</span>.</p>
                            <p class="text-gray-600 text-sm">æˆ‘ã€Œæ˜¨å¤©ã€çœ‹åˆ°ä»– (å¤§ç¯„åœæ™‚é–“)</p>
                        </div>
                    </div>
                </div>

                <!-- 4. Place (Green) - EXPANDED with Vocabulary List -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-green-200 pb-2">
                        <span class="text-2xl">ğŸ“</span>
                        <h3 class="text-xl font-bold text-green-700">4. åœ°æ–¹å‰¯è© (Place)</h3>
                        <span class="text-xs text-green-500 bg-green-100 px-2 py-1 rounded">è¡¨ç¤ºåœ°é»</span>
                    </div>

                    <!-- New Vocabulary List for Place -->
                    <div class="mb-4 bg-green-50 p-4 rounded-xl border border-green-100">
                        <p class="text-sm text-green-800 font-bold mb-2">ğŸ“š å¸¸è¦‹å–®å­—è¡¨ï¼š</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm font-mono text-gray-700">
                            <span class="bg-white px-2 py-1 rounded shadow-sm">here (é€™è£¡)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">there (é‚£è£¡)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">everywhere (åˆ°è™•)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">somewhere (æŸè™•)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">home (å®¶*)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">abroad (åœ‹å¤–)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">inside (è£¡é¢)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">outside (å¤–é¢)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">upstairs (æ¨“ä¸Š)</span>
                        </div>
                        <p class="text-xs text-gray-500 mt-2">*æ³¨æ„ï¼šHome å‰é¢é€šå¸¸ä¸åŠ  to æˆ– at (ä¾‹å¦‚ï¼šgo home)</p>
                    </div>

                    <div class="space-y-3">
                         <div class="bg-white border-l-4 border-green-400 p-3 shadow-sm hover:bg-green-50 transition-colors">
                            <p class="font-mono text-lg text-gray-800">Come <span class="text-green-600 font-bold">here</span>.</p>
                            <p class="text-gray-600 text-sm">éä¾†ã€Œé€™è£¡ã€</p>
                        </div>
                    </div>
                </div>

                <!-- 5. Degree (Purple) - EXPANDED with Vocabulary List + Rules -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-purple-200 pb-2">
                        <span class="text-2xl">ğŸŒ¡ï¸</span>
                        <h3 class="text-xl font-bold text-purple-700">5. ç¨‹åº¦å‰¯è© (Degree) - è€ƒè©¦å¿…è€ƒé™·é˜±</h3>
                        <span class="text-xs text-purple-500 bg-purple-100 px-2 py-1 rounded">å°å¿ƒé€™äº›åœ°é›·ï¼</span>
                    </div>

                     <!-- New Vocabulary List for Degree -->
                     <div class="mb-4 bg-purple-50 p-4 rounded-xl border border-purple-100">
                        <p class="text-sm text-purple-800 font-bold mb-2">ğŸ“š å¸¸è¦‹å–®å­—è¡¨ï¼š</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm font-mono text-gray-700">
                            <span class="bg-white px-2 py-1 rounded shadow-sm">very (éå¸¸)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">too (å¤ª...)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">so (å¦‚æ­¤)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">quite (ç›¸ç•¶)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">pretty (ç›¸ç•¶)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">really (çœŸåœ°)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">almost (å¹¾ä¹)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">extremely (æ¥µç«¯åœ°)</span>
                        </div>
                    </div>

                    <!-- Grid Layout for Rules -->
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        
                        <!-- Point 1: Enough (Updated with Image Example) -->
                        <div class="bg-yellow-50 p-4 rounded-xl border-l-4 border-yellow-400 relative overflow-hidden shadow-sm">
                            <div class="absolute -right-4 -top-2 bg-yellow-400 text-white text-xs px-6 py-1 transform rotate-12 font-bold shadow-sm">
                                è§€å¿µ NG
                            </div>
                            <div class="font-bold text-yellow-800 text-lg mb-2 flex items-center gap-2">
                                âš ï¸ é™·é˜± 1ï¼šEnough (è¶³å¤ )
                            </div>
                            <div class="text-sm text-gray-700 space-y-2">
                                <p class="font-bold text-gray-800 border-b border-yellow-200 pb-1">å£è¨£ï¼šå½¢å®¹è© + Enough (æ”¾å¾Œé¢)</p>
                                <div class="bg-white p-2 rounded border border-yellow-100">
                                    <p class="text-xs text-gray-500 mb-1">âŒ I am enough good.</p>
                                    <p class="font-bold text-green-600">â­• I am not <span class="text-purple-600 border-b-2 border-purple-600">good enough</span>.</p>
                                    <p class="text-xs text-gray-500 mt-1">(æˆ‘ä¸å¤ å¥½ï¼Œæˆ‘éœ€è¦å¤šç·´ç¿’)</p>
                                </div>
                                <p class="text-xs text-gray-600">Jay: You're working <span class="font-bold text-purple-600">too hard</span>. (ä½ å¤ªåŠªåŠ›äº†)</p>
                            </div>
                        </div>

                        <!-- Point 2: The Two Faces of Too -->
                        <div class="bg-purple-50 p-4 rounded-xl border border-purple-100 shadow-sm">
                            <div class="font-bold text-purple-800 text-lg mb-2 flex items-center gap-2">
                                ğŸ­ é™·é˜± 2ï¼šToo çš„é›™é‡èº«åˆ†
                            </div>
                            <div class="space-y-3 text-sm">
                                <div>
                                    <span class="bg-purple-200 text-purple-800 px-2 py-0.5 rounded text-xs font-bold">æ„æ€ Aï¼šå¤ª... (è² é¢)</span>
                                    <p class="mt-1">I'm <span class="font-bold text-purple-600">too</span> hungry.</p>
                                    <p class="text-xs text-gray-500">(æˆ‘ã€Œå¤ªã€é¤“äº† â†’ éœ€è¦é£Ÿç‰©)</p>
                                </div>
                                <div class="border-t border-purple-200 pt-2">
                                    <span class="bg-blue-200 text-blue-800 px-2 py-0.5 rounded text-xs font-bold">æ„æ€ Bï¼šä¹Ÿæ˜¯ (æ”¾å¥å°¾)</span>
                                    <p class="mt-1">Dan is, <span class="font-bold text-purple-600">too</span>.</p>
                                    <p class="text-xs text-gray-500">(Danã€Œä¹Ÿæ˜¯ã€ã€‚ *æ³¨æ„å‰é¢è¦æœ‰é€—è™Ÿ)</p>
                                </div>
                            </div>
                        </div>

                        <!-- Point 3: Hardly (The Negative Trap) -->
                        <div class="bg-red-50 p-4 rounded-xl border-l-4 border-red-500 md:col-span-2 shadow-sm relative">
                             <div class="absolute -right-2 top-2 text-6xl opacity-10 pointer-events-none">ğŸš«</div>
                            <div class="font-bold text-red-800 text-lg mb-2 flex items-center gap-2">
                                ğŸ˜ˆ å¤§é­”ç‹é™·é˜±ï¼šHardly (å¹¾ä¹ä¸)
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div class="text-sm text-gray-700 space-y-2">
                                    <p class="font-bold border-b border-red-200 pb-1 text-red-700">è¦å‰‡ï¼šæœ¬èº«å°±æ˜¯å¦å®šå­—ï¼</p>
                                    <ul class="list-disc pl-4 space-y-1">
                                        <li>æ„æ€ = <b>å¹¾ä¹ä¸ (Almost not)</b></li>
                                        <li><span class="bg-red-100 text-red-800 font-bold px-1 rounded">çµ•å°ä¸å¯</span> å†åŠ  notï¼</li>
                                    </ul>
                                    <div class="bg-white p-2 rounded border border-red-100 mt-2">
                                        <p class="text-xs text-gray-500 line-through">He cannot hardly stand.</p>
                                        <p class="font-bold text-green-600">â­• He could <span class="text-red-600 font-bold">hardly</span> stand up.</p>
                                        <p class="text-xs text-gray-500">(ä»–å¹¾ä¹ç«™ä¸èµ·ä¾†ã€‚)</p>
                                    </div>
                                </div>

                                <div class="text-sm text-gray-700 bg-white p-3 rounded-lg border border-red-100">
                                    <p class="font-bold text-gray-800 mb-2 border-b border-gray-200 pb-1">æ‰‹å¯«ç­†è¨˜é‡é»ï¼šé•·å¾—åƒä½†ä¸ä¸€æ¨£</p>
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="font-mono font-bold text-blue-600">Hard</span>
                                        <span class="text-xs bg-gray-100 px-2 py-1 rounded">åŠªåŠ›åœ° / å›°é›£çš„</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="font-mono font-bold text-red-600">Hardly</span>
                                        <span class="text-xs bg-red-100 text-red-600 px-2 py-1 rounded font-bold">å¹¾ä¹ä¸ (å¦å®š)</span>
                                    </div>
                                    <div class="mt-2 text-xs text-gray-400 italic text-center">
                                        "å·®ä¸€å€‹ lyï¼Œæ„æ€å·®åè¬å…«åƒé‡Œï¼"
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- 6. Focus/Others (Teal) - EXPANDED with Vocabulary List -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-teal-200 pb-2">
                        <span class="text-2xl">ğŸ¯</span>
                        <h3 class="text-xl font-bold text-teal-700">6. å…¶ä»–/é™åˆ¶å‰¯è© (Focus)</h3>
                        <span class="text-xs text-teal-500 bg-teal-100 px-2 py-1 rounded">é™åˆ¶èˆ‡å¼·èª¿</span>
                    </div>

                    <!-- New Vocabulary List for Focus -->
                    <div class="mb-4 bg-teal-50 p-4 rounded-xl border border-teal-100">
                        <p class="text-sm text-teal-800 font-bold mb-2">ğŸ“š å¸¸è¦‹å–®å­—è¡¨ï¼š</p>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 text-sm font-mono text-gray-700">
                            <span class="bg-white px-2 py-1 rounded shadow-sm">only (åªæœ‰)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">just (åƒ…åƒ…/å‰›å¥½)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">even (ç”šè‡³)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">also (ä¹Ÿ)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">especially (ç‰¹åˆ¥æ˜¯)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">exactly (ç²¾ç¢ºåœ°)</span>
                        </div>
                    </div>

                    <div class="space-y-3">
                         <div class="bg-white border-l-4 border-teal-400 p-3 shadow-sm hover:bg-teal-50 transition-colors">
                            <p class="font-mono text-lg text-gray-800">I <span class="text-teal-600 font-bold">only</span> had coffee.</p>
                            <p class="text-gray-600 text-sm">æˆ‘ã€Œåªã€å–äº†å’–å•¡</p>
                        </div>
                    </div>
                </div>

                <!-- 7. Conjunctive (Indigo) - EXPANDED with Vocabulary List -->
                <div>
                    <div class="flex items-center gap-2 mb-3 border-b border-indigo-200 pb-2">
                        <span class="text-2xl">ğŸŒ‰</span>
                        <h3 class="text-xl font-bold text-indigo-700">7. é€£æ¥å‰¯è© (Conjunctive)</h3>
                        <span class="text-xs text-indigo-500 bg-indigo-100 px-2 py-1 rounded">å¥å­æ¥è‘—åŠ‘</span>
                    </div>

                    <!-- New Vocabulary List for Conjunctive -->
                    <div class="mb-4 bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                        <p class="text-sm text-indigo-800 font-bold mb-2">ğŸ“š å¸¸è¦‹å–®å­—è¡¨ï¼š</p>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-2 text-sm font-mono text-gray-700">
                            <span class="bg-white px-2 py-1 rounded shadow-sm">however (ç„¶è€Œ)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">therefore (å› æ­¤)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">moreover (æ­¤å¤–)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">otherwise (å¦å‰‡)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">besides (é™¤äº†...ä¹‹å¤–)</span>
                            <span class="bg-white px-2 py-1 rounded shadow-sm">thus (å› æ­¤)</span>
                        </div>
                        <p class="text-xs text-indigo-400 mt-2 font-bold">å°æé†’ï¼šå‰é¢å¸¸ç”¨åˆ†è™Ÿ ( ; )ï¼Œå¾Œé¢å¸¸ç”¨é€—è™Ÿ ( , )</p>
                    </div>

                    <div class="space-y-3">
                        <div class="bg-white border-l-4 border-indigo-400 p-3 shadow-sm hover:bg-indigo-50 transition-colors">
                            <div class="text-xs text-indigo-400 font-bold mb-1">è½‰æŠ˜ (é›–ç„¶...ä½†æ˜¯...)</div>
                            <p class="font-mono text-lg text-gray-800">It rained<span class="text-red-500">;</span> <span class="text-indigo-600 font-bold">however</span><span class="text-red-500">,</span> we went out.</p>
                            <p class="text-gray-600 text-sm">ä¸‹é›¨äº†ï¼›ã€Œç„¶è€Œã€ï¼Œæˆ‘å€‘é‚„æ˜¯å‡ºé–€äº†ã€‚</p>
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <footer class="text-center p-8 text-gray-500 text-sm">
        <p>Made with ğŸ’¡ for learning Adverbs.</p>
    </footer>

    <script>
        // --- Logic for Section 1: The Decorator ---
        
        const state = {
            frequency: false,
            focus: false,
            degree: false,
            manner: false,
            place: false,
            time: false,
            conjunctive: false
        };

        const adverbs = {
            frequency: { en: "always", ch: "ç¸½æ˜¯", color: "text-orange-600" },
            focus: { en: "only", ch: "åªæœ‰", color: "text-teal-600" },
            degree: { en: "really", ch: "çœŸçš„", color: "text-purple-600" },
            manner: { en: "quickly", ch: "å¾ˆå¿«åœ°", color: "text-red-600" },
            place: { en: "outside", ch: "åœ¨å¤–é¢", color: "text-green-600" },
            time: { en: "today", ch: "ä»Šå¤©", color: "text-blue-600" },
            conjunctive: { en: "; however,", ch: "ï¼›ç„¶è€Œï¼Œ", color: "text-indigo-600" }
        };

        function toggleAdverb(type) {
            state[type] = !state[type];
            
            const btn = document.getElementById(`btn-${type}`);
            let ringColor = 'ring-gray-200';
            let bgColor = 'bg-gray-200';

            // Mapping types to their Tailwind colors for Active State
            if(type === 'frequency') { ringColor = 'ring-orange-200'; bgColor = 'bg-orange-200'; }
            if(type === 'focus') { ringColor = 'ring-teal-200'; bgColor = 'bg-teal-200'; }
            if(type === 'degree') { ringColor = 'ring-purple-200'; bgColor = 'bg-purple-200'; }
            if(type === 'manner') { ringColor = 'ring-red-200'; bgColor = 'bg-red-200'; }
            if(type === 'place') { ringColor = 'ring-green-200'; bgColor = 'bg-green-200'; }
            if(type === 'time') { ringColor = 'ring-blue-200'; bgColor = 'bg-blue-200'; }
            if(type === 'conjunctive') { ringColor = 'ring-indigo-200'; bgColor = 'bg-indigo-200'; }

            if (state[type]) {
                btn.classList.add('ring-4', 'ring-offset-2', 'bg-opacity-20');
                btn.classList.add(bgColor);
            } else {
                btn.classList.remove('ring-4', 'ring-offset-2', 'bg-opacity-20');
                btn.classList.remove('bg-orange-200', 'bg-teal-200', 'bg-purple-200', 'bg-red-200', 'bg-green-200', 'bg-blue-200', 'bg-indigo-200');
            }

            updateSentence();
            updateVisuals();
        }

        function updateSentence() {
            let parts = ['He'];
            
            // 1. Frequency (usually before verb)
            if (state.frequency) parts.push(`<span class="${adverbs.frequency.color} font-bold">${adverbs.frequency.en}</span>`);
            
            // 2. Focus (e.g., only) - placement varies, but before verb works
            if (state.focus) parts.push(`<span class="${adverbs.focus.color} font-bold">${adverbs.focus.en}</span>`);
            
            // 3. Degree (e.g., really)
            if (state.degree) parts.push(`<span class="${adverbs.degree.color} font-bold">${adverbs.degree.en}</span>`);
            
            parts.push('runs');
            
            // 4. Manner (after verb)
            if (state.manner) parts.push(`<span class="${adverbs.manner.color} font-bold">${adverbs.manner.en}</span>`);
            
            // 5. Place
            if (state.place) parts.push(`<span class="${adverbs.place.color} font-bold">${adverbs.place.en}</span>`);
            
            // 6. Time
            if (state.time) parts.push(`<span class="${adverbs.time.color} font-bold">${adverbs.time.en}</span>`);

            // 7. Conjunctive (Needs a bridge and a second clause)
            // Example: He runs...; however, he is tired.
            let conjunctivePart = "";
            if (state.conjunctive) {
                conjunctivePart = ` <span class="${adverbs.conjunctive.color} font-bold">${adverbs.conjunctive.en}</span> he is tired`;
            }

            // Chinese Construction
            let chParts = [];
            if (state.time) chParts.push(`<span class="${adverbs.time.color} font-bold">${adverbs.time.ch}</span>`);
            if (state.place) chParts.push(`<span class="${adverbs.place.color} font-bold">${adverbs.place.ch}</span>`);
            chParts.push('ä»–');
            if (state.frequency) chParts.push(`<span class="${adverbs.frequency.color} font-bold">${adverbs.frequency.ch}</span>`);
            if (state.focus) chParts.push(`<span class="${adverbs.focus.color} font-bold">${adverbs.focus.ch}</span>`);
            if (state.degree) chParts.push(`<span class="${adverbs.degree.color} font-bold">${adverbs.degree.ch}</span>`);
            if (state.manner) chParts.push(`<span class="${adverbs.manner.color} font-bold">${adverbs.manner.ch}</span>`);
            chParts.push('è·‘æ­¥');
            
            if (state.conjunctive) {
                chParts.push(`<span class="${adverbs.conjunctive.color} font-bold">${adverbs.conjunctive.ch}</span>ä»–å¾ˆç´¯`);
            }

            document.getElementById('sentence-display').innerHTML = parts.join(' ') + conjunctivePart + ".";
            document.getElementById('translation-display').innerHTML = chParts.join('') + "ã€‚";
        }

        function updateVisuals() {
            const char = document.getElementById('character');
            const bg = document.getElementById('scene-bg');
            const env = document.getElementById('environment');
            const spotlight = document.getElementById('spotlight-layer');
            const secondChar = document.getElementById('second-character');
            const bridge = document.getElementById('bridge');

            // Manner Effect: Speed
            if (state.manner) {
                char.classList.remove('animate-run');
                char.classList.add('animate-run-fast');
            } else {
                char.classList.remove('animate-run-fast');
                char.classList.add('animate-run');
            }

            // Degree Effect: Size
            char.style.transform = state.degree ? "scale(1.5)" : "scale(1)";

            // Frequency Effect: Background Ring
            if (state.frequency) {
                bg.classList.add('ring-4', 'ring-orange-100', 'ring-inset');
            } else {
                bg.classList.remove('ring-4', 'ring-orange-100', 'ring-inset');
            }

            // Focus Effect: Spotlight
            if (state.focus) {
                spotlight.style.opacity = "1";
            } else {
                spotlight.style.opacity = "0";
            }

            // Place Effect: Background Color/Emoji
            if (state.place) {
                bg.style.backgroundColor = "#dcfce7"; // Light green
                env.innerHTML = "ğŸŒ³ ğŸŒ³ ğŸŒ³";
            } else {
                bg.style.backgroundColor = "#f3f4f6"; // Gray
                env.innerHTML = "";
            }

            // Time Effect: Sun/Moon
            if (state.time) {
               if (!document.getElementById('sun-icon')) {
                   const sun = document.createElement('div');
                   sun.id = 'sun-icon';
                   sun.innerText = 'â˜€ï¸';
                   sun.className = 'absolute top-2 right-2 text-4xl animate-pulse';
                   bg.appendChild(sun);
               }
            } else {
                const sun = document.getElementById('sun-icon');
                if (sun) sun.remove();
            }

            // Conjunctive Effect: Second Character & Bridge
            if (state.conjunctive) {
                secondChar.style.opacity = "1";
                secondChar.style.transform = "translateX(0)";
                bridge.style.opacity = "1";
                // Add tired animation to second char
                secondChar.classList.add('animate-tired');
            } else {
                secondChar.style.opacity = "0";
                secondChar.style.transform = "translateX(40px)";
                bridge.style.opacity = "0";
                secondChar.classList.remove('animate-tired');
            }
        }

        // --- Logic for Section 2: Delete Test ---
        function toggleDeleteTest() {
            const checkbox = document.getElementById('delete-toggle');
            const targets = document.querySelectorAll('.adverb-target');
            const bg = document.getElementById('toggle-bg');
            const dot = document.getElementById('toggle-dot');

            if (checkbox.checked) {
                targets.forEach(el => el.classList.add('hidden-adverb'));
                bg.classList.remove('bg-gray-400');
                bg.classList.add('bg-green-500');
                dot.style.transform = 'translateX(100%)';
            } else {
                targets.forEach(el => el.classList.remove('hidden-adverb'));
                bg.classList.add('bg-gray-400');
                bg.classList.remove('bg-green-500');
                dot.style.transform = 'translateX(0)';
            }
        }
    </script>
</body>
</html>
